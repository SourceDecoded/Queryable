{"version":3,"sources":["../src/Expression.js"],"names":["Expression","nodeName","Error","value","string","number","boolean","Array","isArray","array","Date","date","object","ValueExpression","expression","Object","leftExpression","rightExpression","OperationExpression","children","push","prototype","slice","call","arguments","forEach","arg","valueExpression","constant","name","args","property","propertyAccessExpression","anyExpression","expressionExpression","allExpression","expresssionExpression","propertyName","propertyExpression","type","namespace","containsExpression","ofTypeExpression","intersectsExpression","node","isEqualTo","copy","length","every","index","matched","childNode","contains","some","matchedNodes","getMatchingNodes"],"mappings":"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","file":"Expression.js","sourcesContent":["class Expression {\n    constructor() {\n        this.nodeName = \"expression\";\n    }\n\n    copy() {\n        throw new Error(\"Meant to be overriden\");\n    }\n\n    isEqualTo() {\n        throw new Error(\"Meant to be overriden\");\n    }\n\n    static getExpressionType(value) {\n        if (value instanceof Expression) {\n            return value;\n        }\n\n        if (typeof value === \"string\") {\n            return Expression.string(value);\n        } else if (typeof value === \"function\") {\n            return Expression[\"function\"](value);\n        } else if (typeof value === \"number\") {\n            return Expression.number(value);\n        } else if (typeof value === \"boolean\") {\n            return Expression.boolean(value);\n        } else if (value === null) {\n            return Expression[\"null\"](value);\n            return Expression[\"undefined\"](value);\n        } else if (Array.isArray(value)) {\n            return Expression.array(value);\n        } else if (value instanceof Date) {\n            return Expression.date(value);\n        } else {\n            return Expression.object(value);\n        }\n    }\n\n    static property(value) {\n        return new ValueExpression(\"property\", value);\n    }\n\n    static constant(value) {\n        return new ValueExpression(\"constant\", value);\n    }\n\n    static boolean(value) {\n        var expression = new ValueExpression(\"boolean\");\n        expression.value = value;\n        return expression;\n    }\n\n    static string(value) {\n        var expression = new ValueExpression(\"string\");\n        expression.value = value;\n        return expression;\n    }\n\n    static number(value) {\n        var expression = new ValueExpression(\"number\");\n        expression.value = value;\n        return expression;\n    }\n\n    static object(value) {\n        var expression = new ValueExpression(\"object\");\n        expression.value = value;\n        return expression;\n    }\n\n    static date(value) {\n        var expression = new ValueExpression(\"date\");\n        expression.value = value;\n        return expression;\n    }\n\n    static function(value) {\n        var expression = new ValueExpression(\"function\");\n        expression.value = value;\n        return expression;\n    }\n\n    static type(value) {\n        var expression = new ValueExpression(\"type\");\n        expression.value = value || Object;\n        return expression;\n    }\n\n    static null(value) {\n        var expression = new ValueExpression(\"null\");\n        expression.value = value;\n        return expression;\n    }\n\n    static undefined(value) {\n        var expression = new ValueExpression(\"undefined\");\n        expression.value = value;\n        return expression;\n    }\n\n    static array(value) {\n        var expression = new ValueExpression(\"array\");\n        expression.value = value;\n        return expression;\n    }\n\n    static queryable(leftExpression, rightExpression) {\n        var expression = new OperationExpression(\"queryable\");\n        expression.children.push(leftExpression, rightExpression);\n        return expression;\n    }\n\n    //\n    // OperationExpression helpers\n    //\n\n    static equalTo() {\n        var expression = new OperationExpression(\"equalTo\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static notEqualTo() {\n        var expression = new OperationExpression(\"notEqualTo\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static or() {\n        var expression = new OperationExpression(\"or\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static and() {\n        var expression = new OperationExpression(\"and\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static where() {\n        var expression = new OperationExpression(\"where\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static greaterThan() {\n        var expression = new OperationExpression(\"greaterThan\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static lessThan() {\n        var expression = new OperationExpression(\"lessThan\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static greaterThanOrEqualTo() {\n        var expression = new OperationExpression(\"greaterThanOrEqualTo\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static lessThanOrEqualTo() {\n        var expression = new OperationExpression(\"lessThanOrEqualTo\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static orderBy() {\n        var expression = new OperationExpression(\"orderBy\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static descending() {\n        var expression = new OperationExpression(\"descending\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static ascending() {\n        var expression = new OperationExpression(\"ascending\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static skip(value) {\n        var expression = new OperationExpression(\"skip\");\n        var valueExpression = Expression.constant(value);\n        expression.children.push(valueExpression);\n\n        return expression;\n    }\n\n    static take(value) {\n        var expression = new OperationExpression(\"take\");\n        var valueExpression = Expression.constant(value);\n        expression.children.push(valueExpression);\n\n        return expression;\n    }\n\n    static buildOperatorExpression(name) {\n        var expression = new OperationExpression(name);\n        var args = Array.prototype.slice.call(arguments, 1);\n        args.forEach(arg => {\n            expression.children.push(arg);\n        });\n\n        return expression;\n    }\n\n    static guid() {\n        var expression = new OperationExpression(\"guid\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static substring() {\n        var expression = new OperationExpression(\"substring\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static substringOf() {\n        var expression = new OperationExpression(\"substringOf\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static startsWith() {\n        var expression = new OperationExpression(\"startsWith\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static endsWith() {\n        var expression = new OperationExpression(\"endsWith\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static isIn(property, array) {\n        var expression = new OperationExpression(\"isIn\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static isNotIn(property, array) {\n        var expression = new OperationExpression(\"isNotIn\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static include() {\n        var expression = new OperationExpression(\"include\");\n        Array.prototype.slice.call(arguments, 0).forEach(arg => {\n            expression.children.push(arg);\n        });\n        return expression;\n    }\n\n    static any(propertyAccessExpression, expression) {\n        var anyExpression = new OperationExpression(\"any\");\n        var expressionExpression = Expression.expression(expression);\n\n        anyExpression.children.push(propertyAccessExpression, expressionExpression);\n        return anyExpression;\n    }\n\n    static all(propertyAccessExpression, expression) {\n        var allExpression = new OperationExpression(\"all\");\n        var expressionExpression = Expression.expression(expression);\n\n        allExpression.children.push(propertyAccessExpression, expressionExpression);\n        return allExpression;\n    }\n\n    static expression(value) {\n        var expresssionExpression = new ValueExpression(\"expression\", value);\n\n        return expresssionExpression;\n    }\n\n    static propertyAccess(leftExpression, propertyName) {\n        var propertyExpression = Expression.property(propertyName);\n        var propertyAccessExpression = new OperationExpression(\"propertyAccess\");\n        propertyAccessExpression.children.push(leftExpression, propertyExpression);\n\n        return propertyAccessExpression;\n    }\n\n    static contains(type, namespace, expression) {\n        var containsExpression = new OperationExpression(\"contains\");\n        var ofTypeExpression = new ValueExpression(\"ofType\", type);\n        var propertyExpression = new ValueExpression(\"property\", namespace);\n\n        containsExpression.children.push(ofTypeExpression, propertyExpression, expression);\n\n        return containsExpression;\n    }\n\n    static intersects(type, namespace, expression) {\n        var intersectsExpression = new OperationExpression(\"intersects\");\n        var ofTypeExpression = new ValueExpression(\"ofType\", type);\n        var propertyExpression = new ValueExpression(\"property\", namespace);\n\n        intersectsExpression.children.push(ofTypeExpression, propertyExpression, expression);\n\n        return intersectsExpression;\n    }\n}\n\nclass ValueExpression extends Expression {\n    constructor(nodeName, value) {\n        super();\n        this.value = value;\n        this.nodeName = nodeName;\n    }\n\n    copy() {\n        return new ValueExpression(this.nodeName, this.value);\n    }\n\n    isEqualTo(node) {\n        if (node && this.nodeName === node.nodeName && this.value === node.value) {\n            return true;\n        }\n        return false;\n    }\n\n    contains(node) {\n        return this.isEqualTo(node);\n    }\n}\n\nclass OperationExpression extends Expression {\n    constructor(nodeName) {\n        super();\n        var args = Array.prototype.slice.call(arguments, 0);\n\n        this.nodeName = nodeName;\n        this.children = args.slice(1);\n    }\n    copy() {\n        var children = [];\n        var copy = new OperationExpression(this.nodeName);\n\n        this.children.forEach(expression => {\n            copy.children.push(expression.copy());\n        });\n\n        return copy;\n    }\n\n    isEqualTo() {\n        if (!Array.isArray(node.children) || this.nodeName !== node.nodeName) {\n            return false;\n        }\n\n        if (node.children.length !== this.children.length) {\n            return false;\n        }\n\n        return this.children.every((expression, index) => {\n            return expression.isEqualTo(node.children[index]);\n        });\n    }\n\n    contains(node) {\n        if (node.nodeName === this.nodeName && Array.isArray(node.children)) {\n            var matched = node.children.every((childNode, index) => {\n                return childNode.contains(this.children[index]);\n            });\n\n            if (matched) {\n                return true;\n            }\n        }\n\n        return this.children.some(childNode => {\n            return childNode.contains(node);\n        });\n    }\n\n    getMatchingNodes(node, matchedNodes) {\n        matchedNodes = Array.isArray(matchedNodes) ? matchedNodes : [];\n\n        if (node.nodeName === this.nodeName && Array.isArray(node.children)) {\n            var matched = node.children.every((childNode, index) => {\n                return childNode.contains(this.children[index], matchedNodes);\n            });\n\n            if (matched) {\n                matchedNodes.push(this);\n            }\n        }\n\n        this.children.forEach(childNode => {\n            if (Array.isArray(childNode.children)) {\n                childNode.getMatchingNodes(node, matchedNodes);\n            }\n        }, matchedNodes);\n\n        return matchedNodes;\n    }\n}\n\nexport { Expression, ValueExpression, OperationExpression };\n"]}